import{d as N,k as V,h as d,a as r,b as e,w as $,r as D,c as a,e as p,t as l,B as y,U as M,P as L,N as ee,F as R,o as s,R as S,_ as O,q as I,u as te,G as Y,n as P,l as _,f as oe,p as B,j as ie,Q as re,V as W,M as b,y as se,s as T,g as de,C as ae}from"./index-C-15RASV.js";import{V as j}from"./VDialog-kUoCMem3.js";import{a as q,V as G,b as le,c as ne}from"./VCard-DHLpKSPS.js";import{V as Q}from"./ssrBoot-DgnHE49L.js";import{V as F}from"./Videos-RJKDwKD9.js";import{b as me,V as C,a as H,c as ce,d as ue}from"./VSelect-C8353kee.js";import{b as ge}from"./VTextField-BrPShUeH.js";import{V as ve}from"./VPagination-CN11hL_4.js";const fe={class:"px-5 pb-6"},_e={class:"text-subtitle-1 d-flex align-center font-weight-bold mt-2"},pe={class:"video-info__item"},he={class:"video-info__item-value"},ye={class:"video-info__item"},we={class:"video-info__item-value"},be={class:"video-info__item"},xe={class:"video-info__item-value"},ke={class:"video-info__item"},$e={class:"video-info__item-value"},Me={class:"text-subtitle-1 d-flex align-center font-weight-bold mt-3"},Ve={class:"video-info__item"},Be={class:"video-info__item-value"},Ce={class:"video-info__item"},He={class:"video-info__item-value"},Se={class:"video-info__item"},Ie={class:"video-info__item-value"},Pe={class:"video-info__item"},Re={class:"video-info__item-value"},ze={class:"text-subtitle-1 d-flex align-center font-weight-bold mt-3"},Le={class:"video-info__item"},Te={class:"video-info__item-value"},De={class:"video-info__item"},Ue={class:"video-info__item-value"},Ae={class:"video-info__item"},Fe={class:"video-info__item-value"},We={key:0,class:"text-subtitle-1 d-flex align-center font-weight-bold mt-3"},Ne={class:"video-info__item"},Oe={class:"video-info__item-value"},Ee={class:"video-info__item"},Ye={class:"video-info__item-value"},je={class:"video-info__item"},qe={class:"video-info__item-value"},Ge=N({__name:"RecordedFileInfoDialog",props:{program:{},show:{type:Boolean}},emits:["update:show"],setup(t){return(g,i)=>{const h=D("Icon");return s(),V(j,{"max-width":"770",transition:"slide-y-transition","model-value":t.show,"onUpdate:modelValue":i[1]||(i[1]=w=>g.$emit("update:show",w))},{default:d(()=>[r(q,{class:"video-info"},{default:d(()=>[r(G,{class:"px-5 pt-6 pb-3 d-flex align-center font-weight-bold",style:{height:"60px"}},{default:d(()=>[r(h,{icon:"fluent:document-20-filled",height:"26px"}),i[2]||(i[2]=e("span",{class:"ml-3"},"録画ファイル情報",-1)),r(Q),$((s(),a("div",{class:"d-flex align-center rounded-circle cursor-pointer px-2 py-2",onClick:i[0]||(i[0]=w=>g.$emit("update:show",!1))},[r(h,{icon:"fluent:dismiss-12-filled",width:"23px",height:"23px"})])),[[S]])]),_:1}),e("div",fe,[e("div",_e,[r(h,{icon:"fluent:video-clip-20-filled",width:"24px",height:"20px"}),i[3]||(i[3]=e("span",{class:"ml-2"},"ファイル情報",-1))]),e("div",pe,[i[4]||(i[4]=e("div",{class:"video-info__item-label"},"ファイルパス",-1)),e("div",he,l(t.program.recorded_video.file_path),1)]),e("div",ye,[i[5]||(i[5]=e("div",{class:"video-info__item-label"},"ファイルサイズ",-1)),e("div",we,l(y(M).formatBytes(t.program.recorded_video.file_size)),1)]),e("div",be,[i[6]||(i[6]=e("div",{class:"video-info__item-label"},"録画期間",-1)),e("div",xe,l(y(L).getRecordingTime(t.program)),1)]),e("div",ke,[i[7]||(i[7]=e("div",{class:"video-info__item-label"},"最終更新日時",-1)),e("div",$e,l(y(M).apply28HourClock(y(ee)(t.program.recorded_video.file_modified_at).format("YYYY/MM/DD (dd) HH:mm:ss"))),1)]),e("div",Me,[r(h,{icon:"fluent:video-20-filled",width:"24px",height:"20px"}),i[8]||(i[8]=e("span",{class:"ml-2"},"映像情報",-1))]),e("div",Ve,[i[9]||(i[9]=e("div",{class:"video-info__item-label"},"コーデック",-1)),e("div",Be,l(t.program.recorded_video.video_codec)+" ("+l(t.program.recorded_video.video_codec_profile)+")",1)]),e("div",Ce,[i[10]||(i[10]=e("div",{class:"video-info__item-label"},"解像度",-1)),e("div",He,l(t.program.recorded_video.video_resolution_width)+"×"+l(t.program.recorded_video.video_resolution_height),1)]),e("div",Se,[i[11]||(i[11]=e("div",{class:"video-info__item-label"},"フレームレート",-1)),e("div",Ie,l(t.program.recorded_video.video_frame_rate)+" fps",1)]),e("div",Pe,[i[12]||(i[12]=e("div",{class:"video-info__item-label"},"スキャン方式",-1)),e("div",Re,l(t.program.recorded_video.video_scan_type),1)]),e("div",ze,[r(h,{icon:"fluent:speaker-2-20-filled",width:"24px",height:"20px"}),i[13]||(i[13]=e("span",{class:"ml-2"},"音声情報（主音声）",-1))]),e("div",Le,[i[14]||(i[14]=e("div",{class:"video-info__item-label"},"コーデック",-1)),e("div",Te,l(t.program.recorded_video.primary_audio_codec),1)]),e("div",De,[i[15]||(i[15]=e("div",{class:"video-info__item-label"},"チャンネル",-1)),e("div",Ue,l(t.program.recorded_video.primary_audio_channel),1)]),e("div",Ae,[i[16]||(i[16]=e("div",{class:"video-info__item-label"},"サンプリングレート",-1)),e("div",Fe,l(t.program.recorded_video.primary_audio_sampling_rate?`${t.program.recorded_video.primary_audio_sampling_rate/1e3}kHz`:"不明"),1)]),t.program.recorded_video.secondary_audio_codec?(s(),a("div",We,[r(h,{icon:"fluent:speaker-2-20-filled",width:"24px",height:"20px"}),i[17]||(i[17]=e("span",{class:"ml-2"},"音声情報（副音声）",-1))])):p("",!0),t.program.recorded_video.secondary_audio_codec?(s(),a(R,{key:1},[e("div",Ne,[i[18]||(i[18]=e("div",{class:"video-info__item-label"},"コーデック",-1)),e("div",Oe,l(t.program.recorded_video.secondary_audio_codec),1)]),e("div",Ee,[i[19]||(i[19]=e("div",{class:"video-info__item-label"},"チャンネル",-1)),e("div",Ye,l(t.program.recorded_video.secondary_audio_channel),1)]),e("div",je,[i[20]||(i[20]=e("div",{class:"video-info__item-label"},"サンプリングレート",-1)),e("div",qe,l(t.program.recorded_video.secondary_audio_sampling_rate?`${t.program.recorded_video.secondary_audio_sampling_rate/1e3}kHz`:"不明"),1)])],64)):p("",!0)])]),_:1})]),_:1},8,["model-value"])}}}),Qe=O(Ge,[["__scopeId","data-v-904f7233"]]),Je={class:"recorded-program__container"},Ke={class:"recorded-program__thumbnail"},Xe=["src"],Ze={class:"recorded-program__thumbnail-duration"},et={key:0,class:"recorded-program__thumbnail-status recorded-program__thumbnail-status--recording"},tt={key:1,class:"recorded-program__thumbnail-status recorded-program__thumbnail-status--failed"},ot={key:2,class:"recorded-program__thumbnail-status recorded-program__thumbnail-status--analyzing"},it={key:3,class:"recorded-program__thumbnail-status recorded-program__thumbnail-status--partial"},rt={key:4,class:"recorded-program__thumbnail-progress"},st={class:"recorded-program__content"},dt=["innerHTML"],at={class:"recorded-program__content-meta"},lt={key:0,class:"recorded-program__content-meta-broadcaster"},nt=["src"],mt={class:"recorded-program__content-meta-broadcaster-name"},ct={key:1,class:"recorded-program__content-meta-broadcaster"},ut={class:"recorded-program__content-meta-time"},gt=["innerHTML"],vt={key:0,width:"22px",height:"22px",viewBox:"0 0 16 16"},ft={key:0,width:"22px",height:"22px",viewBox:"0 0 16 16"},_t={key:1,width:"22px",height:"22px",viewBox:"0 0 15.2 15.2"},pt={class:"recorded-program__menu"},ht={class:"delete-confirmation__file-path mb-4"},yt=N({__name:"RecordedProgram",props:{program:{},forMylist:{type:Boolean,default:!1},forWatchedHistory:{type:Boolean,default:!1}},emits:["deleted"],setup(t,{emit:g}){const i=t,h=g,w=I(!1),v=I(!1),U=()=>{window.location.href=`${M.api_base_url}/videos/${i.program.id}/download`},m=async()=>{b.success("メタデータの再解析を開始します。完了までしばらくお待ちください。"),await F.reanalyzeVideo(i.program.id)===!0&&b.success("メタデータの再解析が完了しました。")},n=async(c=!1)=>{b.success("サムネイルの再作成を開始しました。完了までしばらくお待ちください。"),await F.regenerateThumbnail(i.program.id,c)===!0&&b.success("サムネイルの再作成が完了しました。")},f=te(),u=()=>{f.settings.mylist.some(o=>o.type==="RecordedProgram"&&o.id===i.program.id)?(f.settings.mylist=f.settings.mylist.filter(o=>!(o.type==="RecordedProgram"&&o.id===i.program.id)),b.show("マイリストから削除しました。")):(f.settings.mylist.push({type:"RecordedProgram",id:i.program.id,created_at:M.time()}),b.success("マイリストに追加しました。"))},A=Y(()=>f.settings.mylist.some(c=>c.type==="RecordedProgram"&&c.id===i.program.id)),E=Y(()=>f.settings.watched_history.find(c=>c.video_id===i.program.id)),J=()=>{f.settings.watched_history=f.settings.watched_history.filter(c=>c.video_id!==i.program.id),b.show("視聴履歴から削除しました。")},K=()=>{const c=se();if(c.user===null||c.user.is_admin===!1){b.warning(`録画ファイルを削除するには管理者権限が必要です。
管理者アカウントでログインし直してください。`);return}v.value=!0},X=async()=>{v.value=!1,b.info("録画ファイルの削除を開始します。完了までしばらくお待ちください。"),await F.deleteVideo(i.program.id)===!0&&(b.success("録画ファイルを削除しました。"),h("deleted",i.program.id))};return(c,o)=>{const x=D("Icon"),Z=D("router-link"),z=ie("ftooltip");return s(),a(R,null,[$((s(),V(Z,{class:P(["recorded-program",{"recorded-program--recording":t.program.recorded_video.status==="Recording","recorded-program--analyzing":!t.program.recorded_video.has_key_frames&&t.program.recorded_video.status!=="AnalysisFailed","recorded-program--failed":t.program.recorded_video.status==="AnalysisFailed"}]),to:t.program.recorded_video.status==="Recorded"&&t.program.recorded_video.has_key_frames?`/videos/watch/${t.program.id}`:{path:""}},{default:d(()=>[e("div",Je,[e("div",Ke,[e("img",{class:"recorded-program__thumbnail-image",loading:"lazy",decoding:"async",src:`${y(M).api_base_url}/videos/${t.program.id}/thumbnail`},null,8,Xe),e("div",Ze,l(y(L).getProgramDuration(t.program)),1),t.program.recorded_video.status==="Recording"?(s(),a("div",et,[...o[10]||(o[10]=[e("div",{class:"recorded-program__thumbnail-status-dot"},null,-1),_(" 録画中 ",-1)])])):t.program.recorded_video.status==="AnalysisFailed"?(s(),a("div",tt,[r(x,{icon:"fluent:error-circle-12-regular",width:"15px",height:"15px"}),o[11]||(o[11]=_(" メタデータ解析失敗 ",-1))])):t.program.recorded_video.has_key_frames?t.program.is_partially_recorded?(s(),a("div",it," ⚠️ 一部のみ録画 ")):p("",!0):(s(),a("div",ot,[r(x,{icon:"fluent:clock-12-regular",width:"15px",height:"15px"}),o[12]||(o[12]=_(" メタデータ解析中 ",-1))])),E.value?(s(),a("div",rt,[e("div",{class:"recorded-program__thumbnail-progress-bar",style:oe(`width: ${E.value.last_playback_position/t.program.recorded_video.duration*100}%`)},null,4)])):p("",!0)]),e("div",st,[e("div",{class:"recorded-program__content-title",innerHTML:y(L).decorateProgramInfo(t.program,"title")},null,8,dt),e("div",at,[t.program.channel?(s(),a("div",lt,[e("img",{class:"recorded-program__content-meta-broadcaster-icon",loading:"lazy",decoding:"async",src:`${y(M).api_base_url}/channels/${t.program.channel.id}/logo`},null,8,nt),e("span",mt,"Ch: "+l(t.program.channel.channel_number)+" "+l(t.program.channel.name),1)])):(s(),a("div",ct,[...o[13]||(o[13]=[e("span",{class:"recorded-program__content-meta-broadcaster-name"},"チャンネル情報なし",-1)])])),e("div",ut,l(y(L).getProgramTime(t.program)),1)]),e("div",{class:"recorded-program__content-description",innerHTML:y(L).decorateProgramInfo(t.program,"description")},null,8,gt)]),t.forWatchedHistory?p("",!0):$((s(),a("div",{key:0,class:P(["recorded-program__mylist",{"recorded-program__mylist--highlight":A.value&&!t.forMylist}]),onClick:B(u,["prevent","stop"]),onMousedown:o[0]||(o[0]=B(()=>{},["prevent","stop"]))},[t.forMylist?(s(),a("svg",vt,[...o[14]||(o[14]=[e("path",{fill:"currentColor",d:"M7 3h2a1 1 0 0 0-2 0M6 3a2 2 0 1 1 4 0h4a.5.5 0 0 1 0 1h-.564l-1.205 8.838A2.5 2.5 0 0 1 9.754 15H6.246a2.5 2.5 0 0 1-2.477-2.162L2.564 4H2a.5.5 0 0 1 0-1zm1 3.5a.5.5 0 0 0-1 0v5a.5.5 0 0 0 1 0zM9.5 6a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 1 0v-5a.5.5 0 0 0-.5-.5"},null,-1)])])):(s(),a(R,{key:1},[A.value?(s(),a("svg",ft,[...o[15]||(o[15]=[e("path",{fill:"currentColor",d:"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032"},null,-1)])])):(s(),a("svg",_t,[...o[16]||(o[16]=[e("path",{fill:"currentColor",d:"M8 2.5a.5.5 0 0 0-1 0V7H2.5a.5.5 0 0 0 0 1H7v4.5a.5.5 0 0 0 1 0V8h4.5a.5.5 0 0 0 0-1H8z"},null,-1)])]))],64))],34)),[[S],[z,A.value?"マイリストから削除する":"マイリストに追加する"]]),t.forWatchedHistory?$((s(),a("div",{key:1,class:"recorded-program__mylist",onClick:B(J,["prevent","stop"]),onMousedown:o[1]||(o[1]=B(()=>{},["prevent","stop"]))},[...o[17]||(o[17]=[e("svg",{width:"22px",height:"22px",viewBox:"0 0 16 16"},[e("path",{fill:"currentColor",d:"M7 3h2a1 1 0 0 0-2 0M6 3a2 2 0 1 1 4 0h4a.5.5 0 0 1 0 1h-.564l-1.205 8.838A2.5 2.5 0 0 1 9.754 15H6.246a2.5 2.5 0 0 1-2.477-2.162L2.564 4H2a.5.5 0 0 1 0-1zm1 3.5a.5.5 0 0 0-1 0v5a.5.5 0 0 0 1 0zM9.5 6a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 1 0v-5a.5.5 0 0 0-.5-.5"})],-1)])],32)),[[S],[z,"視聴履歴から削除する"]]):p("",!0),e("div",pt,[r(ce,{location:"bottom end","close-on-content-click":!0},{activator:d(({props:k})=>[$((s(),a("div",re({class:"recorded-program__menu-button"},k,{onClick:o[2]||(o[2]=B(()=>{},["prevent","stop"])),onMousedown:o[3]||(o[3]=B(()=>{},["prevent","stop"]))}),[...o[18]||(o[18]=[e("svg",{width:"19px",height:"19px",viewBox:"0 0 16 16"},[e("path",{fill:"currentColor",d:"M9.5 13a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0"})],-1)])],16)),[[S]])]),default:d(()=>[r(me,{density:"compact","bg-color":"background-lighten-1",class:"recorded-program__menu-list"},{default:d(()=>[r(C,{onClick:o[4]||(o[4]=k=>w.value=!0)},{prepend:d(()=>[...o[19]||(o[19]=[e("svg",{width:"20px",height:"20px",viewBox:"0 0 16 16"},[e("path",{fill:"currentColor",d:"M8.499 7.5a.5.5 0 1 0-1 0v3a.5.5 0 0 0 1 0zm.25-2a.749.749 0 1 1-1.499 0a.749.749 0 0 1 1.498 0M8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1M2 8a6 6 0 1 1 12 0A6 6 0 0 1 2 8"})],-1)])]),default:d(()=>[r(H,{class:"ml-3"},{default:d(()=>[...o[20]||(o[20]=[_("録画ファイル情報を表示",-1)])]),_:1})]),_:1}),r(C,{onClick:U,disabled:t.program.recorded_video.status==="Recording"},{prepend:d(()=>[r(x,{icon:"fluent:arrow-download-24-regular",width:"20px",height:"20px"})]),default:d(()=>[r(H,{class:"ml-3"},{default:d(()=>[_("録画ファイルをダウンロード ("+l(y(M).formatBytes(t.program.recorded_video.file_size))+")",1)]),_:1})]),_:1},8,["disabled"]),$((s(),V(C,{onClick:m},{prepend:d(()=>[r(x,{icon:"fluent:book-arrow-clockwise-20-regular",width:"20px",height:"20px"})]),default:d(()=>[r(H,{class:"ml-3"},{default:d(()=>[...o[21]||(o[21]=[_("メタデータを再解析",-1)])]),_:1})]),_:1})),[[z,"再生時に必要な録画ファイル情報や番組情報などを解析し直します"]]),$((s(),V(C,{onClick:o[5]||(o[5]=k=>n(!0))},{prepend:d(()=>[r(x,{icon:"fluent:image-arrow-counterclockwise-24-regular",width:"20px",height:"20px"})]),default:d(()=>[r(H,{class:"ml-3"},{default:d(()=>[...o[22]||(o[22]=[_("サムネイルを更新",-1)])]),_:1})]),_:1})),[[z,"既存のシークバー用サムネイルから代表サムネイルを選び直します 変更反映にはブラウザキャッシュの削除が必要です"]]),$((s(),V(C,{onClick:o[6]||(o[6]=k=>n(!1))},{prepend:d(()=>[r(x,{icon:"fluent:image-arrow-counterclockwise-24-regular",width:"20px",height:"20px"})]),default:d(()=>[r(H,{class:"ml-3"},{default:d(()=>[...o[23]||(o[23]=[_("サムネイルを再作成",-1)])]),_:1})]),_:1})),[[z,"サムネイルを完全に作り直します（数分かかります） 変更反映にはブラウザキャッシュの削除が必要です"]]),r(ge),r(C,{onClick:K,disabled:t.program.recorded_video.status==="Recording",class:"recorded-program__menu-list-item--danger"},{prepend:d(()=>[r(x,{icon:"fluent:delete-24-regular",width:"20px",height:"20px"})]),default:d(()=>[r(H,{class:"ml-3"},{default:d(()=>[...o[24]||(o[24]=[_("録画ファイルを削除",-1)])]),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1})])])]),_:1},8,["to","class"])),[[S]]),r(Qe,{program:t.program,show:w.value,"onUpdate:show":o[7]||(o[7]=k=>w.value=k)},null,8,["program","show"]),r(j,{"max-width":"750",modelValue:v.value,"onUpdate:modelValue":o[9]||(o[9]=k=>v.value=k)},{default:d(()=>[r(q,null,{default:d(()=>[r(G,{class:"d-flex justify-center pt-6 font-weight-bold"},{default:d(()=>[...o[25]||(o[25]=[_("本当に録画ファイルを削除しますか？",-1)])]),_:1}),r(le,{class:"pt-2 pb-0"},{default:d(()=>[e("div",ht,l(t.program.recorded_video.file_path),1),o[26]||(o[26]=e("div",{class:"text-error-lighten-1 font-weight-bold"},[_(" この録画ファイルに関連するすべてのデータ (サムネイル / .ts.program.txt / .ts.err を含む) が削除されます。"),e("br"),_(" 元に戻すことはできません。本当に録画ファイルを削除しますか？ ")],-1))]),_:1}),r(ne,{class:"pt-4 px-6 pb-6"},{default:d(()=>[r(Q),r(W,{color:"text",variant:"text",onClick:o[8]||(o[8]=k=>v.value=!1)},{default:d(()=>[r(x,{icon:"fluent:dismiss-20-regular",width:"18px",height:"18px"}),o[27]||(o[27]=e("span",{class:"ml-1"},"キャンセル",-1))]),_:1}),r(W,{class:"px-3",color:"error",variant:"flat",onClick:X},{default:d(()=>[r(x,{icon:"fluent:delete-20-regular",width:"18px",height:"18px"}),o[28]||(o[28]=e("span",{class:"ml-1"},"録画ファイルを削除",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}}),wt=O(yt,[["__scopeId","data-v-717cdd7b"]]),bt={key:0,class:"recorded-program-list__header"},xt={class:"recorded-program-list__title"},kt={class:"recorded-program-list__title-text"},$t={key:1,class:"recorded-program-list__title-count"},Mt={class:"recorded-program-list__empty-content"},Vt=["innerHTML"],Bt=["innerHTML"],Ct={class:"recorded-program-list__grid-content"},Ht={key:1,class:"recorded-program-list__pagination"},St=N({__name:"RecordedProgramList",props:{title:{},programs:{},total:{},page:{default:1},sortOrder:{default:"desc"},hideHeader:{type:Boolean,default:!1},hideSort:{type:Boolean,default:!1},hidePagination:{type:Boolean,default:!1},showMoreButton:{type:Boolean,default:!1},showBackButton:{type:Boolean,default:!1},showEmptyMessage:{type:Boolean,default:!0},emptyIcon:{default:"fluent:warning-20-regular"},emptyMessage:{default:"録画番組が見つかりませんでした。"},emptySubMessage:{default:'サーバー設定で録画フォルダのパスを<br class="d-sm-none">正しく設定できているか確認してください。'},isLoading:{type:Boolean,default:!1},isSearching:{type:Boolean,default:!1},forMylist:{type:Boolean,default:!1},forWatchedHistory:{type:Boolean,default:!1}},emits:["update:page","update:sortOrder","more"],setup(t){ae();const g=t,i=I(g.page),h=I(g.sortOrder),w=I([...g.programs]),v=I(g.total);T(()=>g.page,m=>{i.value=m}),T(()=>g.sortOrder,m=>{h.value=m}),T(()=>g.programs,m=>{w.value=[...m]}),T(()=>g.total,m=>{v.value=m});const U=m=>{w.value=w.value.filter(n=>n.id!==m),v.value--};return(m,n)=>{const f=D("Icon");return s(),a("div",{class:P(["recorded-program-list",{"recorded-program-list--show-sort":!t.hideSort}])},[t.hideHeader?p("",!0):(s(),a("div",bt,[e("h2",xt,[t.showBackButton?$((s(),a("div",{key:0,class:"recorded-program-list__title-back",onClick:n[0]||(n[0]=u=>m.$router.back())},[r(f,{icon:"fluent:chevron-left-12-filled",width:"27px"})])),[[S]]):p("",!0),e("span",kt,l(t.title),1),t.showMoreButton?p("",!0):(s(),a("div",$t,[t.isSearching?(s(),a(R,{key:0},[r(f,{icon:"line-md:loading-twotone-loop",class:"mr-1 spin",width:"20px",height:"20px"}),n[6]||(n[6]=e("span",null,"検索中...",-1))],64)):(s(),a(R,{key:1},[_(l(v.value)+"件",1)],64))]))]),e("div",{class:P(["recorded-program-list__actions",{"recorded-program-list__actions--mylist":t.forMylist}])},[t.hideSort?p("",!0):(s(),V(ue,{key:0,modelValue:h.value,"onUpdate:modelValue":[n[1]||(n[1]=u=>h.value=u),n[2]||(n[2]=u=>m.$emit("update:sortOrder",u))],items:t.forMylist?[{title:"追加が新しい順",value:"mylist_added_desc"},{title:"追加が古い順",value:"mylist_added_asc"},{title:"録画が新しい順",value:"recorded_desc"},{title:"録画が古い順",value:"recorded_asc"}]:[{title:"新しい順",value:"desc"},{title:"古い順",value:"asc"}],"item-title":"title","item-value":"value",class:"recorded-program-list__sort",color:"primary","bg-color":"background-lighten-1",variant:"solo",density:"comfortable","hide-details":""},null,8,["modelValue","items"])),t.showMoreButton?(s(),V(W,{key:1,variant:"text",class:"recorded-program-list__more",onClick:n[3]||(n[3]=u=>m.$emit("more"))},{default:d(()=>[n[7]||(n[7]=e("span",{class:"text-primary"},"もっと見る",-1)),r(f,{icon:"fluent:chevron-right-12-regular",width:"18px",class:"ml-1 text-text-darken-1",style:{margin:"0px -4px"}})]),_:1})):p("",!0)],2)])),e("div",{class:P(["recorded-program-list__grid",{"recorded-program-list__grid--loading":t.isLoading||t.isSearching,"recorded-program-list__grid--empty":v.value===0&&t.showEmptyMessage,"recorded-program-list__grid--searching":t.isSearching}])},[e("div",{class:P(["recorded-program-list__empty",{"recorded-program-list__empty--show":v.value===0&&t.showEmptyMessage&&!t.isSearching}])},[e("div",Mt,[r(f,{class:"recorded-program-list__empty-icon",icon:t.emptyIcon,width:"54px",height:"54px"},null,8,["icon"]),e("h2",{innerHTML:t.emptyMessage},null,8,Vt),t.emptySubMessage?(s(),a("div",{key:0,class:"recorded-program-list__empty-submessage",innerHTML:t.emptySubMessage},null,8,Bt)):p("",!0)])],2),e("div",Ct,[(s(!0),a(R,null,de(w.value,u=>(s(),V(wt,{key:u.id,program:u,forMylist:t.forMylist,forWatchedHistory:t.forWatchedHistory,onDeleted:U},null,8,["program","forMylist","forWatchedHistory"]))),128))])],2),!t.hidePagination&&v.value>0?(s(),a("div",Ht,[r(ve,{modelValue:i.value,"onUpdate:modelValue":[n[4]||(n[4]=u=>i.value=u),n[5]||(n[5]=u=>m.$emit("update:page",u))],"active-color":"primary",density:"comfortable",length:Math.ceil(v.value/30),"total-visible":y(M).isSmartphoneVertical()?5:7},null,8,["modelValue","length","total-visible"])])):p("",!0)],2)}}}),At=O(St,[["__scopeId","data-v-6ade5cfc"]]);export{At as R};
