import{d as I,q as u,E as q,z as w,x as R,c as r,F as V,w as n,a as l,k as b,h as P,r as m,b as h,a2 as E,n as W,B as U,o as t,R as d,_ as z}from"./index-8kZQ9vua.js";import{V as D,_ as F}from"./ssrBoot-DUkSyU_U.js";const H={key:1,class:"search-box"},K={class:"search-box__icon"},M=["placeholder"],N=I({__name:"SPHeaderBar",setup(T){const f=U(),a=w(),p=u(null),o=u(!1),s=u(""),y=q(()=>_(a.path)?"録画番組やシリーズを検索...":"放送予定の番組を検索..."),_=e=>e.startsWith("/videos")||e.startsWith("/mylist")||e.startsWith("/watched-history"),k=()=>_(a.path)?"/videos/search":"/tv/search",x=()=>{o.value=!0,setTimeout(()=>{var e;(e=p.value)==null||e.focus()},0)},v=()=>{o.value=!1,s.value=""},g=()=>{if(s.value.trim()){const e=k();f.push(`${e}?query=${encodeURIComponent(s.value.trim())}`)}},S=e=>{e.key==="Enter"?g():e.key==="Escape"&&v()};return R(()=>{a.path.endsWith("/search")&&a.query.query&&(s.value=decodeURIComponent(a.query.query),o.value=!0)}),(e,c)=>{const C=m("router-link"),i=m("Icon");return t(),r("header",{class:W(["header",{"search-active":o.value}])},[o.value?(t(),r("div",H,[h("div",K,[l(i,{icon:"fluent:search-20-filled",height:"20px"})]),n(h("input",{ref_key:"searchInput",ref:p,type:"search",enterkeyhint:"search",placeholder:y.value,"onUpdate:modelValue":c[0]||(c[0]=B=>s.value=B),onKeydown:S},null,40,M),[[E,s.value]]),n((t(),r("div",{class:"search-box__close",onClick:v},[l(i,{icon:"fluent:dismiss-20-filled",height:"24px"})])),[[d]])])):(t(),r(V,{key:0},[n((t(),b(C,{class:"konomitv-logo",to:"/tv/"},{default:P(()=>c[1]||(c[1]=[h("img",{class:"konomitv-logo__image",src:F,height:"21"},null,-1)])),_:1,__:[1]})),[[d]]),l(D),n((t(),r("div",{class:"search-button",onClick:x},[l(i,{icon:"fluent:search-20-filled",height:"24px"})])),[[d]])],64))],2)}}}),Q=z(N,[["__scopeId","data-v-a52f1508"]]);export{Q as S};
